--replace fillpatdata--
fillpat={cpi=
-- col-pid data --
[[
660196029603790497059602f90699016601960799015908590999019f0a9901960b950c590d950ef90ff9079f10990199015911591295139f14f9109f15791699019901990195139f179f189f19791a990199019901951b591c9901791d7701990199019901791e790b751a770177019901791e791577017701770177017701
901e901f000100010001000190209021901999019022000190239002901a09199007942409119025902690274907092490139428990199019901990149040929902a9901192b99019901192c1921092d901109219225191e191f292e922f0927000190307931273227339734090a000100010001701107350735072800010001
0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001
0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001
0001d036d02900010d130001000100010001d036d02900010d130001000100010001d037d01100010d1a0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001
0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001
0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001
0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001
00010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001071a0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001
0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001
0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001
0001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001
]]
,pat=
-- pat data --
[[
0000001307ff300000c8000e377700077ec013ff003f48861fff133700ef310010007310777700f801ff1137008f44ce33337fff7b8f000f137f0001000c0003000808ce0002311100092acc377f3fff11117331037f067711337773777f330003ff021002c073000fff22222000
]]

,draw=function(i,x,y)
local o=fillpat
local pr=flr(i/12)
local c=0
local s=1
if pr==0 then pr=1
else repeat
if sub(o.pat,s,s)=="\n" then c+=1
if c==pr then pr=s+1 end
end
s+=1
until #o.pat<s or (c==pr and pr==s+1)
end
for cy=1,8 do
for cx=1,8 do
local row=(i*256)+i
local fx=shl(band(cx-1,7),2)
local fy=shl(cy-1,5)
local clpi=sub(o.cpi,row+fx+fy+1,row+fx+fy+4)
local idp=shl(tonum('0x'..sub(clpi,3,4))-1,2)
fillp(tonum('0x'..sub(o.pat,idp+pr,idp+pr+3)))
local xx=(cx-1)*4+x
local yy=(cy-1)*4+y
rectfill(xx,yy,xx+3,yy+3,tonum('0x'..sub(clpi,1,2)))
end
end
fillp()
end
}

